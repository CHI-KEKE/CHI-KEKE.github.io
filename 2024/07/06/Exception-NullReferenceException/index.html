<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>NullReferenceException:ä¸€å ´èˆ‡ä¸å­˜åœ¨çš„å°è©± | å¹³å±‹æ…¢ç”Ÿæ´»</title><meta name="author" content="Allen"><meta name="copyright" content="Allen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="çª—å¤–é–‹å§‹ä¸‹é›¨äº†ï¼Œè¼•è¼•æ•²åœ¨çª—ä¸Šçš„é›¨è²ï¼Œåƒè¨˜æ†¶æ•²è‘—ç»ç’ƒï¼Œæé†’ä½ ä»Šå¤©åˆéå»äº†ä¸€å¤©ã€‚ æˆ¿é–“è£¡åªäº®è‘—ä¸€ç›æª¯ç‡ˆï¼Œæ¡Œä¸Šçš„å’–å•¡æº«åº¦æ—©å·²æ•£å»ã€‚ä½ ç›¯è‘—è¢å¹•ï¼Œä¸€è¡Œè¡Œç¨‹å¼ç¢¼åƒæ˜Ÿè¾°èˆ¬é–ƒçˆï¼Œå¸¶è‘—æŸç¨®ç§©åºï¼Œä¹Ÿè—è‘—æœªè§£çš„è¬é¡Œã€‚ é€™æ™‚å€™ï¼Œå®ƒåˆä¾†äº†ã€‚  System.NullReferenceException, Object reference not set to an instance of an object.  æˆ‘æ»„æ¡‘çš„">
<meta property="og:type" content="article">
<meta property="og:title" content="NullReferenceException:ä¸€å ´èˆ‡ä¸å­˜åœ¨çš„å°è©±">
<meta property="og:url" content="https://chi-keke.github.io/2024/07/06/Exception-NullReferenceException/">
<meta property="og:site_name" content="å¹³å±‹æ…¢ç”Ÿæ´»">
<meta property="og:description" content="çª—å¤–é–‹å§‹ä¸‹é›¨äº†ï¼Œè¼•è¼•æ•²åœ¨çª—ä¸Šçš„é›¨è²ï¼Œåƒè¨˜æ†¶æ•²è‘—ç»ç’ƒï¼Œæé†’ä½ ä»Šå¤©åˆéå»äº†ä¸€å¤©ã€‚ æˆ¿é–“è£¡åªäº®è‘—ä¸€ç›æª¯ç‡ˆï¼Œæ¡Œä¸Šçš„å’–å•¡æº«åº¦æ—©å·²æ•£å»ã€‚ä½ ç›¯è‘—è¢å¹•ï¼Œä¸€è¡Œè¡Œç¨‹å¼ç¢¼åƒæ˜Ÿè¾°èˆ¬é–ƒçˆï¼Œå¸¶è‘—æŸç¨®ç§©åºï¼Œä¹Ÿè—è‘—æœªè§£çš„è¬é¡Œã€‚ é€™æ™‚å€™ï¼Œå®ƒåˆä¾†äº†ã€‚  System.NullReferenceException, Object reference not set to an instance of an object.  æˆ‘æ»„æ¡‘çš„">
<meta property="og:locale">
<meta property="og:image" content="https://i.imgur.com/CxZINP1.png">
<meta property="article:published_time" content="2024-07-06T09:25:05.000Z">
<meta property="article:modified_time" content="2025-09-20T04:00:21.894Z">
<meta property="article:author" content="Allen">
<meta property="article:tag" content="Exception Handling">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/CxZINP1.png"><link rel="shortcut icon" href="/img/kiwibird.png"><link rel="canonical" href="https://chi-keke.github.io/2024/07/06/Exception-NullReferenceException/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'NullReferenceException:ä¸€å ´èˆ‡ä¸å­˜åœ¨çš„å°è©±',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-09-20 12:00:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.imgur.com/q4xr50n.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">81</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">13</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.imgur.com/CxZINP1.png')"><nav id="nav"><span id="blog-info"><a href="/" title="å¹³å±‹æ…¢ç”Ÿæ´»"><span class="site-name">å¹³å±‹æ…¢ç”Ÿæ´»</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">NullReferenceException:ä¸€å ´èˆ‡ä¸å­˜åœ¨çš„å°è©±</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-07-06T09:25:05.000Z" title="Created 2024-07-06 17:25:05">2024-07-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-09-20T04:00:21.894Z" title="Updated 2025-09-20 12:00:21">2025-09-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%A4%9C%E5%AE%88%E8%AD%B7%E8%80%85/">æ·±å¤œå®ˆè­·è€…</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="NullReferenceException:ä¸€å ´èˆ‡ä¸å­˜åœ¨çš„å°è©±"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><img src="https://i.imgur.com/5JeyHjS.png" alt="Exception Handling"></p>
<p>çª—å¤–é–‹å§‹ä¸‹é›¨äº†ï¼Œè¼•è¼•æ•²åœ¨çª—ä¸Šçš„é›¨è²ï¼Œåƒè¨˜æ†¶æ•²è‘—ç»ç’ƒï¼Œæé†’ä½ ä»Šå¤©åˆéå»äº†ä¸€å¤©ã€‚</p>
<p>æˆ¿é–“è£¡åªäº®è‘—ä¸€ç›æª¯ç‡ˆï¼Œæ¡Œä¸Šçš„å’–å•¡æº«åº¦æ—©å·²æ•£å»ã€‚ä½ ç›¯è‘—è¢å¹•ï¼Œä¸€è¡Œè¡Œç¨‹å¼ç¢¼åƒæ˜Ÿè¾°èˆ¬é–ƒçˆï¼Œå¸¶è‘—æŸç¨®ç§©åºï¼Œä¹Ÿè—è‘—æœªè§£çš„è¬é¡Œã€‚</p>
<p>é€™æ™‚å€™ï¼Œå®ƒåˆä¾†äº†ã€‚</p>
<blockquote>
<p>System.NullReferenceException, Object reference not set to an instance of an object.</p>
</blockquote>
<p>æˆ‘æ»„æ¡‘çš„æ–äº†æ–é ­ï¼Œç¤ºæ„è‡ªå·±åˆå¤§æ„äº†ä¸€å›</p>
<br>
<br>

<h2 id="ğŸ”ï¸-NullReferenceException"><a href="#ğŸ”ï¸-NullReferenceException" class="headerlink" title="ğŸ”ï¸ NullReferenceException"></a>ğŸ”ï¸ NullReferenceException</h2><p>ç•¶ä½ è©¦åœ–é€éä¸€å€‹æ ¹æœ¬æ²’æœ‰æŒ‡å‘ä»»ä½•ç‰©ä»¶çš„åƒè€ƒï¼ˆnullï¼‰ä¾†å­˜å–è³‡æ–™æˆ–æ–¹æ³•ï¼Œ.NET å°±æœƒä¸Ÿå‡º NullReferenceExceptionã€‚</p>
<p>æ¯ä¸€å€‹ã€Œç‰©ä»¶è®Šæ•¸ã€æœ¬è³ªä¸Šæ˜¯ä¸€å€‹æŒ‡å‘è¨˜æ†¶é«”ä½ç½®çš„åƒè€ƒï¼ˆReferenceï¼‰ã€‚</p>
<p>èˆ‰ä¾‹ä¾†èªªï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Person person = <span class="keyword">new</span> Person();</span><br><span class="line">Person person = <span class="literal">null</span>;</span><br><span class="line">person.Name <span class="comment"><span class="doctag">///</span>/ âŒ  NullReferenceExceptionã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>person å°±åƒä½ æ‰‹ä¸Šæ‹¿æ˜¯åœ°å€ï¼ˆåƒ Google Maps ä¸Šçš„å®šä½é»ï¼‰ï¼Œè€Œ person.Name è¡¨ç¤ºè«‹ä½ é–‹è»Šå»é‚£å€‹åœ°å€ï¼Œç„¶å¾Œé€²é–€æ‰¾ã€Œé‚£å€‹äººçš„åå­—ã€ï¼Œå¦‚æœ person &#x3D; nullï¼Œå‰‡ç›¸ç•¶æ–¼ï¼Œæ‰‹ä¸Šçš„åœ°åœ–å®šä½é»æ˜¯ä¸€å¨ç©ºç™½ï¼Œç™»æ„£!</p>
<br>
<br>


<h2 id="ğŸ”ï¸-ç¶­è­·åœ˜éšŠå°ˆæ¡ˆçš„å¿ƒæ…‹"><a href="#ğŸ”ï¸-ç¶­è­·åœ˜éšŠå°ˆæ¡ˆçš„å¿ƒæ…‹" class="headerlink" title="ğŸ”ï¸ ç¶­è­·åœ˜éšŠå°ˆæ¡ˆçš„å¿ƒæ…‹"></a>ğŸ”ï¸ ç¶­è­·åœ˜éšŠå°ˆæ¡ˆçš„å¿ƒæ…‹</h2><p>å°ç‰©ä»¶çš„å­˜åœ¨æ°¸é ä¸è¦ç†æ‰€ç•¶ç„¶ï¼Œè¨­è¨ˆæ™‚æ‡‰ã€Œæ‡·ç–‘ä¸€åˆ‡å¯èƒ½ç‚º nullã€ï¼Œç¾å¯¦å¸¸è¦‹çš„æƒ…å¢ƒå¦‚</p>
<ul>
<li>å¾è³‡æ–™åº«æŠ“ä¸åˆ°è³‡æ–™å»ç›´æ¥ä½¿ç”¨</li>
<li>DI æ³¨å…¥å¤±æ•—æˆ–æ²’è¨»å†Šç‰©ä»¶</li>
<li>JSON deserialize æˆ null</li>
<li>Service å›å‚³ null æœªåšæª¢æŸ¥</li>
</ul>
<p>ä»¥åŠå…¶ä»–èŠ±å¼è³‡æ–™éºå¤±çš„æƒ…å¢ƒï¼Œç•¶ä½  Exception ç¢°ä¹…äº†ï¼Œæœƒé–‹å§‹æ¼¸æ¼¸ç¯‰èµ·è­¦æˆ’å¿ƒï¼Œä½†é€™ä¹Ÿä¸æ˜¯èªªï¼Œéƒ½æ˜¯èª°çš„éŒ¯ï¼Œè€Œæ˜¯è¨­è¨ˆç¨‹å¼éš¨æ™‚éœ€è¦æ€è€ƒè³‡æ–™çš„è™•ç†æµå‘èˆ‡è™•ç†çš„å¿…è¦æ€§ï¼Œå°å°çš„ person.Name ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦æƒ³ï¼Œè³‡æ–™æ€éº¼ä¾†çš„ï¼Œåˆè¦æ€éº¼å»ï¼Œæ˜¯ä½¿ç”¨è€…è¼¸å…¥æœ‰èª¤å—ï¼Œæˆ‘è©²æŠ“å‡ºéŒ¯èª¤å›å ±ä»€éº¼éŒ¯èª¤è¨Šæ¯?â€¦</p>
<p>åœ¨é¢å° Null Reference Issue æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€éä¸åŒçš„é¢å‘è¿æ“Š<br>ä¾‹å¦‚å°ˆæ¡ˆå¯ä»¥é–‹å•Ÿ Nullable Reference Typesï¼Œç·¨è­¯å™¨æœƒè·‘å‡ºé‚£äº›å°èš¯èš“ä¾†æç¤ºä½ ç¨‹å¼ç¢¼çš„å“ªå€‹éƒ¨ä½å¯èƒ½æœ‰ null</p>
<p>æ’°å¯«é‚è¼¯æ™‚ï¼Œå¦‚ä½•é€éèªæ³•ç³–çš„ä½¿ç”¨ä¾‹å¦‚ ?.(Null Conditional Operator) å’Œ ?? (Null Coalescing Operator) ä½œç‚ºå®‰å…¨å­˜å–èˆ‡è¨­å®šé è¨­å€¼çš„å·¥å…·</p>
<p>ç¸½è€Œè¨€ä¹‹ï¼Œæˆ‘å€‘è¦é¿å…éåº¦ä¿¡ä»»å¤–éƒ¨è³‡æ–™ï¼ŒAPIã€DB å›å‚³çš„å€¼è¦å°å¿ƒæª¢æŸ¥ã€å»ºæ§‹å‡½å¼å°±åˆå§‹åŒ–å¥½ç‰©ä»¶	ä¸è¦ç­‰åˆ°ç”¨çš„æ™‚å€™æ‰æƒ³èµ·ä¾†ã€é‹ç”¨ DIï¼ˆDependency Injectionï¼‰æ™‚ï¼Œæ˜ç¢ºæŒ‡å‡ºä¾è³´ï¼Œä¸¦å–„ç”¨å–®å…ƒæ¸¬è©¦ï¼Œæª¢æŸ¥æ¥µç«¯èˆ‡ä¾‹å¤–æƒ…æ³ï¼Œææ—©ç™¼ç¾å•é¡Œ</p>
<br>
<br>

<h2 id="ğŸ”ï¸-åˆ°è™•ç”¨-å®‰å¿ƒå—ï¼Ÿé‚„æ˜¯æ½›è—å±æ©Ÿï¼Ÿ"><a href="#ğŸ”ï¸-åˆ°è™•ç”¨-å®‰å¿ƒå—ï¼Ÿé‚„æ˜¯æ½›è—å±æ©Ÿï¼Ÿ" class="headerlink" title="ğŸ”ï¸ åˆ°è™•ç”¨ ?. å®‰å¿ƒå—ï¼Ÿé‚„æ˜¯æ½›è—å±æ©Ÿï¼Ÿ"></a>ğŸ”ï¸ åˆ°è™•ç”¨ ?. å®‰å¿ƒå—ï¼Ÿé‚„æ˜¯æ½›è—å±æ©Ÿï¼Ÿ</h2><p>åœ¨å¯« C# çš„æ™‚å€™ï¼Œå¯ä»¥ç”¨ ?.ï¼ˆnull conditional operatorï¼‰ä¾†ã€Œæ“‹éŒ¯ã€ï¼Œä¸€ä¸å°å¿ƒå°±å¯«äº†ä¸€ä¸²ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = data?.List?.FirstOrDefault()?.Name?.Trim()?.ToLower();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>çœ‹èµ·ä¾†å¥½åƒã€Œé˜²éŒ¯åšæ»¿äº†ã€ï¼Œä½†é€™çœŸçš„å¥½å—ï¼Ÿ</p>
<h3 id="ğŸ”¹-å›åˆ°å•é¡Œçš„æœ¬è³ªï¼Œæˆ‘å€‘æ‡‰è©²å•çš„æ˜¯ï¼š"><a href="#ğŸ”¹-å›åˆ°å•é¡Œçš„æœ¬è³ªï¼Œæˆ‘å€‘æ‡‰è©²å•çš„æ˜¯ï¼š" class="headerlink" title="ğŸ”¹ å›åˆ°å•é¡Œçš„æœ¬è³ªï¼Œæˆ‘å€‘æ‡‰è©²å•çš„æ˜¯ï¼š"></a>ğŸ”¹ å›åˆ°å•é¡Œçš„æœ¬è³ªï¼Œæˆ‘å€‘æ‡‰è©²å•çš„æ˜¯ï¼š</h3><p>ã€Œç‚ºä»€éº¼é€™å€‹æ±è¥¿æœƒæ˜¯ nullï¼Ÿã€</p>
<p>è€Œä¸æ˜¯</p>
<p>ã€Œæ€éº¼æ¨£åŠ  ?. æ‰ä¸æœƒå™´éŒ¯ï¼Ÿã€</p>
<p>åˆç†ä½¿ç”¨ ?. çš„æƒ…å¢ƒï¼Œæ˜¯ä½ æ˜ç¢ºçŸ¥é“æŸå€‹ç‰©ä»¶æœ‰å¯èƒ½æ˜¯ nullï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¾†è‡ªå¤–éƒ¨ API å›å‚³çš„è³‡æ–™</li>
<li>è³‡æ–™åº«æŸ¥è©¢çµæœï¼ˆå°¤å…¶æ˜¯å·¦å¤–é€£æ¥ï¼‰</li>
<li>å‰ç«¯è¡¨å–®çš„éå¿…å¡«æ¬„ä½</li>
<li>Cookieã€Sessionã€QueryString çš„å€¼</li>
</ul>
<p>é€™äº›éƒ½æ˜¯ä½ ç„¡æ³•æŒæ§ä¾†æºæ™‚ï¼Œå®‰å…¨é˜²ç¦¦çš„ä¸€ç’°ã€‚</p>
<p>âš ï¸ ä¸å»ºè­°ç„¡è…¦åŠ  ?. çš„ç‹€æ³</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> discount = order?.Coupon?.DiscountAmount ?? <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åŸæœ¬æ˜¯é æœŸï¼šæ²’æœ‰ Coupon å°±ä¸è¦æ‰“æŠ˜</p>
<p>ä½†å•é¡Œä¾†äº†ï¼šæœ‰äº› order è³‡æ–™åœ¨é‚„æ²’ç¶å®šå‰ï¼ŒCoupon æ˜¯ nullï¼Œæ‡‰è©²å¥—ç”¨é è¨­æŠ˜æ‰£<br>ä½†æœ‰æ™‚å€™æ˜¯è¨‚å–®ä¸çŸ¥é“ç‚ºç”šéº¼è³‡æ–™ä¸è¦‹äº†å»é‚„æ˜¯å¥—ç”¨é è¨­æŠ˜æ‰£ï¼Œåè€Œæ˜¯èµ°åˆ°å¾Œé¢ç„¶å¾Œè³‡æ–™ä¸é½Šå…¨åˆ°ç‹€æ³</p>
<p>æˆ‘å€‘æ”¹æˆæ›´æ¸…æ¥šã€å…·åˆ¤æ–·æ„åœ–çš„å¯«æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (order == <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ç³»çµ±å±¤éŒ¯èª¤ï¼Œä»£è¡¨è¨‚å–®ä¸å­˜åœ¨ï¼Œé€™ä¸æ‡‰ç™¼ç”Ÿ</span></span><br><span class="line">    logger.LogError(<span class="string">&quot;è¨‚å–®ç‚º nullï¼Œç„¡æ³•è¨ˆç®—æŠ˜æ‰£&quot;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">&quot;è¨‚å–®è³‡è¨Šç•°å¸¸&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (order.Coupon == <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è¨‚å–®å­˜åœ¨ï¼Œä½†æ²’æœ‰å„ªæƒ åˆ¸ï¼Œå±¬æ–¼æ­£å¸¸é‚è¼¯æµç¨‹</span></span><br><span class="line">    logger.LogInformation(<span class="string">&quot;æœªå¥—ç”¨å„ªæƒ åˆ¸ï¼Œä½¿ç”¨é è¨­æŠ˜æ‰£&quot;</span>);</span><br><span class="line">    discount = defaultDiscount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æœ‰å„ªæƒ åˆ¸ï¼Œæ­£å¸¸æŠ˜æ‰£æµç¨‹</span></span><br><span class="line">    discount = order.Coupon.DiscountAmount;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>æˆ‘å€‘æ˜¯å¦ä¸å°å¿ƒç”¨ null propagation ä¾†æ¨¡ç³Šæ‰ç•°å¸¸ç‹€æ…‹ï¼Œåè€Œå°è‡´å¾ŒçºŒé‡æ¸…å•é¡Œçš„å›°é›£</p>
<br>
<br>

<h2 id="ğŸ”ï¸-é è¨­å€¼"><a href="#ğŸ”ï¸-é è¨­å€¼" class="headerlink" title="ğŸ”ï¸ é è¨­å€¼"></a>ğŸ”ï¸ é è¨­å€¼</h2><p>ç•¶æˆ‘å€‘å·²ç¶“ç¢ºå®šæŸå€‹è³‡æ–™ç‚º null æ˜¯åˆç†çš„æƒ…æ³ï¼Œä¹Ÿå°±æ˜¯èªªï¼š</p>
<p>ã€Œé€™ç­†è³‡æ–™å¯ä»¥æ²’æœ‰ï¼Œå³ä½¿ç¼ºå¤±ä¹Ÿä¸æ‡‰å½±éŸ¿æ•´é«”æµç¨‹ã€‚ã€</p>
<p>é€™æ™‚å€™ï¼Œä½¿ç”¨é è¨­å€¼ï¼ˆä¾‹å¦‚ ?? æˆ– GetValueOrDefault()ï¼‰ä¾†è™•ç†ï¼Œå°±æ˜¯ä¸€ç¨®éå¸¸åˆé©çš„å®¹éŒ¯ç­–ç•¥ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> userName = user?.Profile?.Name ?? <span class="string">&quot;è¨ªå®¢&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€™æ®µç¨‹å¼ç¢¼çš„æ„åœ–æ˜¯ï¼šåœ¨æœªç™»å…¥æ™‚é¡¯ç¤ºã€Œè¨ªå®¢ã€ã€‚é€™å±¬æ–¼æ­£å¸¸çš„ UX fallbackï¼Œå› ç‚ºåŒ¿åç€è¦½æ˜¯è¢«å…è¨±çš„æƒ…å¢ƒã€‚</p>
<p>ä½†å‰ææ˜¯ â€”â€” ä½ å·²ç¢ºèª user &#x3D;&#x3D; null å°±ä»£è¡¨ã€Œæœªç™»å…¥ã€ï¼Œè€Œä¸æ˜¯ç³»çµ±ç•°å¸¸æˆ–è³‡æ–™éºå¤±ã€‚å¦‚æœä½ æ¸…æ¥šé€™é»ï¼Œé‚£éº¼é€™æ¨£ä½¿ç”¨ ?? æ˜¯åˆç†çš„ã€‚å¦å‰‡å¯èƒ½ç™¼ç”Ÿä½¿ç”¨è€…ç™»å…¥ï¼Œçµæœç•«é¢é‚„æ˜¯é¡¯ç¤ºè¨ªå®¢çš„æƒ…æ³!</p>
<p>å†ä¾†ä¸€å€‹ä¾‹å­</p>
<p>åœ¨è¡ŒéŠ·æ´»å‹•ä¸­ï¼Œæœ‰äº›æ´»å‹•å¯èƒ½åªè¨­æ¢ä»¶èˆ‡å„ªæƒ ï¼Œè€Œæ²’æœ‰å¡«å¯«èªªæ˜æ–‡å­—ã€‚é€™æ¨£çš„ç¼ºå€¼åœ¨æ¥­å‹™ä¸Šæ˜¯è¢«æ¥å—çš„ã€‚æ­¤æ™‚çµ¦ä¸€å€‹è¦ªåˆ‡çš„é è¨­å€¼ï¼Œå¦‚ã€Œç„¡å‚™è¨»ã€ï¼Œæœƒè®“ UI æ›´å®Œæ•´ï¼Œä¹Ÿä¸æœƒèª¤å°ä½¿ç”¨è€…ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> remark = campaign.Description ?? <span class="string">&quot;(ç„¡å‚™è¨»)&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼šæœ‰äº›äººæœƒç¿’æ…£ã€Œçœ‹åˆ° null å°±è£œå€¼ã€ï¼Œä½†å¦‚æœé€™å€‹è£œçš„å€¼æ²’æœ‰æ¥­å‹™èªæ„ï¼Œåªç‚ºäº†ã€Œä¸å ±éŒ¯ã€ï¼Œåè€Œå®¹æ˜“é€ æˆèª¤å°ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> total = order.TotalAmount ?? <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½ çŸ¥é“ç‚ºä»€éº¼ TotalAmount æ˜¯ null å—ï¼Ÿ<br>æ˜¯è¨‚å–®æ ¹æœ¬é‚„æ²’å®Œæˆï¼Ÿé‚„æ˜¯é‡‘é¡çœŸçš„ç‚º 0ï¼Ÿ<br>é€™æ¨£ fallback å¯èƒ½è®“å¾ŒçºŒå ±è¡¨å¤±çœŸã€è²¡å‹™æ··äº‚!</p>
<br>
<br>

<h2 id="ğŸ”ï¸-string-interpolation"><a href="#ğŸ”ï¸-string-interpolation" class="headerlink" title="ğŸ”ï¸ string interpolation"></a>ğŸ”ï¸ string interpolation</h2><p>ç•¶æˆ‘å€‘åœ¨ä½¿ç”¨ å­—ä¸²æ’å€¼ï¼ˆstring interpolationï¼‰ çš„èªæ³•ï¼Œä¾‹å¦‚ $â€{xxx}â€ï¼Œå®ƒçœ‹èµ·ä¾†åƒæ˜¯èªæ³•ç³–ï¼Œä½†å¯¦éš›ä¸ŠèƒŒå¾Œç¶“éäº†ç·¨è­¯å™¨çš„è½‰æ›èˆ‡å„ªåŒ–ã€‚å¦‚æœæ’å…¥çš„æ˜¯ nullable value typeï¼ˆä¾‹å¦‚ int?ã€bool?ã€DateTime?ï¼‰ï¼Œé‚£éº¼æ•´å€‹æµç¨‹æœƒéå¸¸è²¼å¿ƒåœ°è‡ªå‹•è™•ç† null çš„æƒ…æ³ï¼Œé¿å… NullReferenceException ç™¼ç”Ÿã€‚</p>
<p>æˆ‘å€‘çœ‹ä¸€å€‹ä¾‹å­ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">int</span>? age = <span class="literal">null</span>;</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;Age: <span class="subst">&#123;age&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span>/ Age:</span></span><br></pre></td></tr></table></figure>

<p>å®ƒä¸æœƒæ‹‹å‡ºä¾‹å¤–ï¼Œä¹Ÿä¸æœƒå°å‡º â€œnullâ€ã€‚é€™æ˜¯å› ç‚º C# çš„ç·¨è­¯å™¨æœƒåœ¨èƒŒå¾Œå¹«ä½ è™•ç†æˆé€™æ¨£çš„é‚è¼¯ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">age.HasValue ? age.Value.ToString() : <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯èªªç­‰æ–¼</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Age: &quot;</span> + (age.HasValue ? age.Value.ToString() : <span class="string">&quot;&quot;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é›–ç„¶æˆ‘å€‘çŸ¥é“åšè¼¸å‡ºæ™‚ï¼Œæœƒ ToString, ä½†æ²’æƒ³åˆ°ä»–æœƒå¹«ä½ åšé˜²å‘†å§!</p>
<br>
<br>

<h2 id="ğŸ”ï¸-HasValue-Value"><a href="#ğŸ”ï¸-HasValue-Value" class="headerlink" title="ğŸ”ï¸ HasValue &amp; .Value"></a>ğŸ”ï¸ HasValue &amp; .Value</h2><p>ä½¿ç”¨ Nullable<T>ï¼ˆä¾‹å¦‚ int?ã€bool?ã€DateTime?ï¼‰æ™‚ï¼ŒHasValue å’Œ .Value æ˜¯å…©å€‹å¯†ä¸å¯åˆ†çš„å±¬æ€§ï¼Œä½†å®ƒå€‘çš„è§’è‰²æˆªç„¶ä¸åŒï¼Œç†è§£å®ƒå€‘çš„æ­é…ä½¿ç”¨æ™‚æ©Ÿï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘å¯«å‡ºæ›´å®‰å…¨ã€æ›´å…·æŒæ§åŠ›çš„ç¨‹å¼ã€‚</p>
<p>åœ¨åº•å±¤ä¸€é»é»ï¼ŒNullable<T> æ˜¯å€‹ç‰¹æ®Šçš„çµæ§‹é«”ï¼ˆstructï¼‰ï¼Œå…§éƒ¨å¯¦ä½œé¡ä¼¼é€™æ¨£ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Nullable&lt;T&gt; <span class="keyword">where</span> T : <span class="keyword">struct</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> hasValue;</span><br><span class="line">    <span class="keyword">private</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasValue =&gt; hasValue;</span><br><span class="line">    <span class="keyword">public</span> T Value =&gt; hasValue ? <span class="keyword">value</span> : <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">&quot;Nullable object must have a value.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€™æ®µç¨‹å¼ç¢¼å‘Šè¨´æˆ‘å€‘ä¸€ä»¶é‡è¦çš„äº‹ï¼š<br>ğŸ‘‰ ä½ ä¸èƒ½ç„¡æ¢ä»¶åœ°ä½¿ç”¨ .Valueï¼Œå¦å‰‡å¯èƒ½æœƒæ‹‹å‡º InvalidOperationExceptionã€‚</p>
<p>åœ¨ä½ æº–å‚™ä½¿ç”¨ .Value å‰ï¼Œæ‡‰è©²å…ˆä½¿ç”¨ HasValue åšä¿éšªã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">int</span>? score = GetUserScore();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (score.HasValue)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;User Score: <span class="subst">&#123;score.Value&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;User has no score yet.&quot;</span>);</span><br><span class="line">&#125;   </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é‚„æœ‰ä¸€æ‹›æ˜¯</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">int</span>? age = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">int</span> <span class="keyword">value</span> = age.GetValueOrDefault();     <span class="comment">// é è¨­å€¼ç‚º 0</span></span><br><span class="line"><span class="built_in">int</span> custom = age.GetValueOrDefault(<span class="number">99</span>);  <span class="comment">// é è¨­å€¼ç‚º 99</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<br>
<br>

<h2 id="ğŸ”ï¸-is-null-null"><a href="#ğŸ”ï¸-is-null-null" class="headerlink" title="ğŸ”ï¸ is null &#x3D;&#x3D; null"></a>ğŸ”ï¸ is null &#x3D;&#x3D; null</h2><p>åŸºæœ¬èªæ„æ˜¯é€™æ¨£</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">x == <span class="literal">null</span> <span class="comment"><span class="doctag">///</span>/ 	å‘¼å« operator == æ¯”è¼ƒ</span></span><br><span class="line">x <span class="keyword">is</span> <span class="literal">null</span> <span class="comment"><span class="doctag">///</span>/ åˆ¤æ–·ç‰©ä»¶æ˜¯å¦æ˜¯ null</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ğŸ”¹-x-null"><a href="#ğŸ”¹-x-null" class="headerlink" title="ğŸ”¹ x &#x3D;&#x3D; null"></a>ğŸ”¹ x &#x3D;&#x3D; null</h3><p>é€™æ˜¯ä¸€å€‹ã€Œé‹ç®—å­å¤šè¼‰ï¼ˆoperator overloadingï¼‰ã€çš„å‘¼å«ã€‚<br>ä¹Ÿå°±æ˜¯èªªï¼Œå¦‚æœ x æ˜¯æŸå€‹é¡åˆ¥çš„å¯¦ä¾‹ï¼Œè€Œé€™å€‹é¡åˆ¥æœ‰è‡ªå®šç¾© operator &#x3D;&#x3D;ï¼Œé‚£éº¼åŸ·è¡Œçš„å°±æ˜¯è©²æ–¹æ³•ã€‚æ„å‘³è‘— &#x3D;&#x3D; null å¯ä»¥è¢«é‡å¯«ã€è¢«å¹²æ“¾ï¼</p>
<h3 id="ğŸ”¹-x-is-null"><a href="#ğŸ”¹-x-is-null" class="headerlink" title="ğŸ”¹ x is null"></a>ğŸ”¹ x is null</h3><p>é€™æ˜¯ C# 7.0 ä»¥å¾Œæä¾›çš„ Pattern Matching Null Testï¼Œæ˜¯ä¸€ç¨®èªæ³•å±¤ç´šçš„ null åˆ¤æ–·ï¼Œä¸æœƒè¢« operator å¤šè¼‰å½±éŸ¿ã€‚</p>
<p>ä¹Ÿå°±æ˜¯èªªï¼Œå®ƒæ°¸é æ˜¯å–®ç´”çš„ã€Œé€™å€‹åƒè€ƒæ˜¯å¦ç‚º nullã€ã€‚</p>
<blockquote>
<p>x is null æ˜¯èªè¨€æœ¬èº«çš„ä¿è­‰ï¼›x &#x3D;&#x3D; null å‰‡æ˜¯ä½ æˆ–åˆ¥äººå¯ä»¥å‹•æ‰‹è…³çš„åˆç´„ã€‚</p>
</blockquote>
<br>
<br>

<h2 id="â˜˜ï¸-çµèªã€‚"><a href="#â˜˜ï¸-çµèªã€‚" class="headerlink" title="â˜˜ï¸ çµèªã€‚"></a>â˜˜ï¸ çµèªã€‚</h2><p>å¦‚ä½•åˆ†è¾¨ x &#x3D;&#x3D; null èˆ‡ x is null çš„æœ¬è³ªå·®ç•°?</p>
<p>ç‚ºä½• ?. ä¸æ˜¯è¬éˆä¸¹ï¼Œè€Œæ‡‰è©²æ­é…æ¸…æ¥šçš„åˆ¤æ–·é‚è¼¯ä½¿ç”¨?</p>
<p>å¦‚ä½•ç”¨ ?? å’Œ GetValueOrDefault() åšå‡ºçœŸæ­£è²¼åˆæƒ…å¢ƒçš„é è¨­å€¼?</p>
<p>é‚„æœ‰é‚£å€‹æœ€æ ¹æœ¬çš„æé†’ â€”â€” åœ¨ä½¿ç”¨ .Value å‰ï¼Œè«‹å…ˆå•è‡ªå·±ï¼šé€™çœŸçš„æœ‰å€¼å—ï¼Ÿ</p>
<p>åœ¨é€™ Debug çš„æ·±å¤œè£¡ï¼Œæˆ‘å€‘æ€éº¼èˆ‡ null ç›¸è™•</p>
<p>ğŸ•¯çª—å¤–çš„é›¨åœäº†ï¼ŒåŸå¸‚çš„è¼ªå»“åœ¨è·¯ç‡ˆä¸‹ç·©ç·©æ¸…æ™°ã€‚</p>
<br>

<p>ä½ å„²å­˜äº†æª”æ¡ˆï¼Œå•œäº†å£æ—©å·²å†°æ¶¼çš„å’–å•¡ï¼Œå¿ƒè£¡å»å› ç‚ºè§£é–‹ä¸€å€‹å°è¬é¡Œè€Œæ³›èµ·å¾®å…‰ã€‚é€™ä¸æ˜¯ä¸€å ´æˆ°é¬¥ï¼Œè€Œæ˜¯ä¸€ç¨®èˆ‡æ··äº‚å…±èˆçš„å„ªé›…ã€‚</p>
<br>

<p>ä¸‹ä¸€æ¬¡é‡è¦‹ Nullï¼Œä½ æœƒæ›´æœ‰æ„Ÿè¦ºï¼Œä¹Ÿæ›´å¾å®¹ã€‚ğŸŒ™</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://chi-keke.github.io">Allen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://chi-keke.github.io/2024/07/06/Exception-NullReferenceException/">https://chi-keke.github.io/2024/07/06/Exception-NullReferenceException/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Exception-Handling/">Exception Handling</a></div><div class="post_share"><div class="social-share" data-image="https://i.imgur.com/CxZINP1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/06/27/Http-Context/" title="HttpContext å¤±æ•ˆæ™‚ï¼Œæˆ‘å€‘é‚„èƒ½èªªä»€éº¼"><img class="cover" src="https://i.imgur.com/hZWviQz.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">HttpContext å¤±æ•ˆæ™‚ï¼Œæˆ‘å€‘é‚„èƒ½èªªä»€éº¼</div></div></a></div><div class="next-post pull-right"><a href="/2024/07/06/Exception-ArgumentException/" title="ArgumentExceptionï¼šå …å®ˆæ–¹æ³•å¥‘ç´„çš„å®ˆè­·è€…"><img class="cover" src="https://i.imgur.com/CxZINP1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">ArgumentExceptionï¼šå …å®ˆæ–¹æ³•å¥‘ç´„çš„å®ˆè­·è€…</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2024/07/06/Exception-InvalidOperationException/" title="InvalidOperationException:ä¸ç›¸ é‚„æ²’èµ·é¢¨å•Š"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-06</div><div class="title">InvalidOperationException:ä¸ç›¸ é‚„æ²’èµ·é¢¨å•Š</div></div></a></div><div><a href="/2024/07/06/Exception-ArgumentException/" title="ArgumentExceptionï¼šå …å®ˆæ–¹æ³•å¥‘ç´„çš„å®ˆè­·è€…"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-06</div><div class="title">ArgumentExceptionï¼šå …å®ˆæ–¹æ³•å¥‘ç´„çš„å®ˆè­·è€…</div></div></a></div><div><a href="/2025/05/10/Exception-API-Design-StatusCode/" title="ä½ èªªä½  200ï¼Œä½†æˆ‘çŸ¥é“ä½ å¿«å´©æ½°äº†"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-10</div><div class="title">ä½ èªªä½  200ï¼Œä½†æˆ‘çŸ¥é“ä½ å¿«å´©æ½°äº†</div></div></a></div><div><a href="/2025/05/11/Exception-CouponAPI/" title="éŒ¯èª¤é˜²æš´ç¶²è¨­è¨ˆ 2 - å„ªæƒ åˆ¸"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-11</div><div class="title">éŒ¯èª¤é˜²æš´ç¶²è¨­è¨ˆ 2 - å„ªæƒ åˆ¸</div></div></a></div><div><a href="/2024/12/06/Exception-PaymentMiddleware/" title="é‡‘æµä¸­ä»‹è€…ä¹‹ Exception é˜²æš´ç¶²è¨­è¨ˆ"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-06</div><div class="title">é‡‘æµä¸­ä»‹è€…ä¹‹ Exception é˜²æš´ç¶²è¨­è¨ˆ</div></div></a></div><div><a href="/2025/09/20/Exception-%E6%B7%B1%E5%A4%9C%E8%A3%A1%E7%9A%84%E5%AE%88%E8%A1%9B%E9%80%B2%E9%9A%8E%E7%AF%87/" title="æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡"><img class="cover" src="https://i.imgur.com/CxZINP1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class="title">æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.imgur.com/q4xr50n.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Allen</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">81</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/CHI-KEKE"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/CHI-KEKE" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:chilly37647@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">ä¸–ç•Œç¸½æœƒæœ‰é‚£äº›æº«æš–çš„å°è§’è½å€‘ç­‰å¾…ç™¼ç¾</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-NullReferenceException"><span class="toc-number">1.</span> <span class="toc-text">ğŸ”ï¸ NullReferenceException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-%E7%B6%AD%E8%AD%B7%E5%9C%98%E9%9A%8A%E5%B0%88%E6%A1%88%E7%9A%84%E5%BF%83%E6%85%8B"><span class="toc-number">2.</span> <span class="toc-text">ğŸ”ï¸ ç¶­è­·åœ˜éšŠå°ˆæ¡ˆçš„å¿ƒæ…‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-%E5%88%B0%E8%99%95%E7%94%A8-%E5%AE%89%E5%BF%83%E5%97%8E%EF%BC%9F%E9%82%84%E6%98%AF%E6%BD%9B%E8%97%8F%E5%8D%B1%E6%A9%9F%EF%BC%9F"><span class="toc-number">3.</span> <span class="toc-text">ğŸ”ï¸ åˆ°è™•ç”¨ ?. å®‰å¿ƒå—ï¼Ÿé‚„æ˜¯æ½›è—å±æ©Ÿï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%B9-%E5%9B%9E%E5%88%B0%E5%95%8F%E9%A1%8C%E7%9A%84%E6%9C%AC%E8%B3%AA%EF%BC%8C%E6%88%91%E5%80%91%E6%87%89%E8%A9%B2%E5%95%8F%E7%9A%84%E6%98%AF%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">ğŸ”¹ å›åˆ°å•é¡Œçš„æœ¬è³ªï¼Œæˆ‘å€‘æ‡‰è©²å•çš„æ˜¯ï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-%E9%A0%90%E8%A8%AD%E5%80%BC"><span class="toc-number">4.</span> <span class="toc-text">ğŸ”ï¸ é è¨­å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-string-interpolation"><span class="toc-number">5.</span> <span class="toc-text">ğŸ”ï¸ string interpolation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-HasValue-Value"><span class="toc-number">6.</span> <span class="toc-text">ğŸ”ï¸ HasValue &amp; .Value</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%94%EF%B8%8F-is-null-null"><span class="toc-number">7.</span> <span class="toc-text">ğŸ”ï¸ is null &#x3D;&#x3D; null</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%B9-x-null"><span class="toc-number">7.1.</span> <span class="toc-text">ğŸ”¹ x &#x3D;&#x3D; null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%B9-x-is-null"><span class="toc-number">7.2.</span> <span class="toc-text">ğŸ”¹ x is null</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%98%98%EF%B8%8F-%E7%B5%90%E8%AA%9E%E3%80%82"><span class="toc-number">8.</span> <span class="toc-text">â˜˜ï¸ çµèªã€‚</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/20/Exception-%E6%B7%B1%E5%A4%9C%E8%A3%A1%E7%9A%84%E5%AE%88%E8%A1%9B%E9%80%B2%E9%9A%8E%E7%AF%87/" title="æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡"><img src="https://i.imgur.com/CxZINP1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡"/></a><div class="content"><a class="title" href="/2025/09/20/Exception-%E6%B7%B1%E5%A4%9C%E8%A3%A1%E7%9A%84%E5%AE%88%E8%A1%9B%E9%80%B2%E9%9A%8E%E7%AF%87/" title="æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡">æ·±å¤œè£¡çš„å®ˆè¡›é€²éšç¯‡</a><time datetime="2025-09-20T02:25:05.000Z" title="Created 2025-09-20 10:25:05">2025-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/20/Exception-%E8%AA%B0%E4%BE%86%E6%8E%A5%E4%BD%8F%E5%A4%9C%E8%A3%A1%E7%9A%84%E9%8C%AF%E8%AA%A4%EF%BC%9F/" title="èª°ä¾†æ¥ä½å¤œè£¡çš„éŒ¯èª¤ï¼Ÿ"><img src="https://i.imgur.com/CxZINP1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="èª°ä¾†æ¥ä½å¤œè£¡çš„éŒ¯èª¤ï¼Ÿ"/></a><div class="content"><a class="title" href="/2025/09/20/Exception-%E8%AA%B0%E4%BE%86%E6%8E%A5%E4%BD%8F%E5%A4%9C%E8%A3%A1%E7%9A%84%E9%8C%AF%E8%AA%A4%EF%BC%9F/" title="èª°ä¾†æ¥ä½å¤œè£¡çš„éŒ¯èª¤ï¼Ÿ">èª°ä¾†æ¥ä½å¤œè£¡çš„éŒ¯èª¤ï¼Ÿ</a><time datetime="2025-09-20T02:25:05.000Z" title="Created 2025-09-20 10:25:05">2025-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/17/Design-Dependency-Inversion-Principle-DIP/" title="Dependency-Inversion Principle"><img src="https://i.imgur.com/LF7L1Ws.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dependency-Inversion Principle"/></a><div class="content"><a class="title" href="/2025/09/17/Design-Dependency-Inversion-Principle-DIP/" title="Dependency-Inversion Principle">Dependency-Inversion Principle</a><time datetime="2025-09-17T01:00:03.000Z" title="Created 2025-09-17 09:00:03">2025-09-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/17/Design-LSP/" title="Liskov Substitution Principle"><img src="https://i.imgur.com/LF7L1Ws.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Liskov Substitution Principle"/></a><div class="content"><a class="title" href="/2025/09/17/Design-LSP/" title="Liskov Substitution Principle">Liskov Substitution Principle</a><time datetime="2025-09-17T01:00:03.000Z" title="Created 2025-09-17 09:00:03">2025-09-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/17/Design-Interface-Segregation-Principle-ISP/" title="Interface Segregation Principle"><img src="https://i.imgur.com/LF7L1Ws.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Interface Segregation Principle"/></a><div class="content"><a class="title" href="/2025/09/17/Design-Interface-Segregation-Principle-ISP/" title="Interface Segregation Principle">Interface Segregation Principle</a><time datetime="2025-09-17T01:00:03.000Z" title="Created 2025-09-17 09:00:03">2025-09-17</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://i.imgur.com/yZlXwed.png')"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Allen</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">What you'll find out there is boundless freedom !</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const loadUtterances = () => {
    let ele = document.createElement('script')
    ele.id = 'utterances_comment'
    ele.src = 'https://utteranc.es/client.js'
    ele.setAttribute('repo', 'CHI-KEKE/CHI-KEKE.github.io')
    ele.setAttribute('issue-term', 'pathname')
    const nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
    ele.setAttribute('theme', nowTheme)
    ele.crossOrigin = 'anonymous'
    ele.async = true
    document.getElementById('utterances-wrap').appendChild(ele)
  }

  const utterancesTheme = theme => {
    const iframe = document.querySelector('.utterances-frame')
    if (iframe) {
      const theme = theme === 'dark' ? 'photon-dark' : 'github-light'
      const message = {
        type: 'set-theme',
        theme: theme
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es');
    }
  }

  btf.addGlobalFn('themeChange', utterancesTheme, 'utterances')

  if ('Utterances' === 'Utterances' || !true) {
    if (true) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>